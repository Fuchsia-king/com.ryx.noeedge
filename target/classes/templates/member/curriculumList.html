<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">

  <meta name="viewport" content="width=1920 initial-scale=1.0">

  <!-- First use the latest version of IE and Chrome -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>融易学</title>
  <!-- Keyword -->
  <!-- <meta name="keywords" content=""> -->
  <!-- describe -->
  <meta name="description" content="">

  <!-- 360 use Google Chrome Frame -->
  <meta name="renderer" content="webkit">
  <!-- Baidu prohibition of transcoding -->
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <!-- Definition of web search engine index -->
  <meta name="robots" content="index,follow">
  <!-- ios -->
  <!-- The title that is added to the main screen -->
  <meta name="apple-mobile-web-app-title" content="">
  <!-- Whether WebApp full screen mode is enabled -->
  <meta content="yes" name="apple-mobile-web-app-capable">
  <meta content="yes" name="apple-touch-fullscreen">
  <!-- Setting the background color of the State Bar -->
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <!-- Android theme-color  Used to control the color of the tabs -->
  <meta name="theme-color" content="#747474">
  <meta name="mobile-web-app-capable" content="yes">
  <!-- Turn off the translation plug-in under the Chrome browser -->
  <meta name="google" value="notranslate" />
  <!-- uc Forced vertical screen -->
  <meta name="screen-orientation" content="portrait">
  <!-- QQ Forced vertical screen -->
  <meta name="x5-orientation" content="portrait">
  <!-- UC Mandatory full screen -->
  <meta name="full-screen" content="yes">
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/swiper.min.css" rel="stylesheet" type="text/css" />
  <link href="/css/public.css" rel="stylesheet">
  <link href="/css/inStyle.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" type="text/css" href="/css/font-other.css" />
</head>

<body class="resetStyle">
  <div class="insside-header">
    <div class="container">
      <div class="head-middle">
        <div class="head-l">
          <div class="logo"><a href="/"><img src="/images/logo2.png"></a></div>
          <div class="nav-main">
            <div class="nav-list">
              <div class="item">
                <a class="syht" href="/">首页</a>
              </div>
              <div class="item active">
                <a href="/curriculumList">全部课程</a>
                <i>
                  <img class="down-hide" src="/images/down.png">
                  <img class="down-show" src="/images/down_active.png">
                </i>
                <div class="down-content">
                  <div class="main">
                    <div class="left">
                      <ul class="max-navlist" >
                        <li th:each="ryxCategoryDTO:${ryxCategoryDTOList}" th:class="${ryxCategoryDTOStat.index==0?'active':''}"><a class="pf condition1" th:href="@{'/curriculumList/?h='+${ryxCategoryDTO.id}}" href="javacript:void(0);" th:text="${ryxCategoryDTO.title}" >行业</a></li>
                      </ul>
                    </div>
                    <div class="right">
                      <div class="menus-list" id="menus-list" >
                        <!--融资租赁-->
                        <div th:each="submap,stat1:${map2}" th:class="${stat1.index==0?'item active':'item'}" class="item" >
                          <div class="screen" th:each="submap2,stat:${submap}">
                            <div class="superclass">
                              <a class="pfre condition1" th:href="@{'/curriculumList?h='+submap.key.id+'&l='+submap2.key.id}" th:text="${submap2.key.title}">领域</a>
                            </div>
                            <div class="subclass">
                              <div class="sub-item condition1" th:each="skill:${submap2.value}" th:if="${not #lists.isEmpty(submap2.value)}">
                                <a th:href="@{'/curriculumList?h='+submap.key.id+'&l='+submap2.key.id+'&j='+skill.id}" th:text="${skill.title}" th:unless="${skill}">技能</a>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="item">
                <a href="/offlineList">线下课程</a>
              </div>
              <div class="item">
                <a href="/topteacherList">专家阵容</a>
              </div>
              <div class="item ">
                <a class="syht" href="#">企业服务</a>
                <i>
                  <img class="down-hide" src="/images/down.png">
                  <img class="down-show" src="/images/down_active.png">
                </i>
                <div class="down-content">
                  <ul class="list">
                    <li><a href="/customPage">企业内训</a></li>
                    <li><a href="/collegePage">企业商学院</a> </li>
                    <li><a href="/enterprisePage">企业大学</a></li>
                    <li><a href="/annualPage">企业年卡</a></li>
                  </ul>
                </div>
              </div>
              <div class="item">
                <a href="/advisoryList">资讯</a>
              </div>
              <div class="item">
                <a href="/booksList">书籍</a>
              </div>
            </div>
          </div>
        </div>
        <div class="head-r">
          <div class="search-icon">
            <div class="search-input">
              <input type="text" style="width:0;height:0;float:left;visibility:hidden"/>
              <input type="password" style="width:0;height:0;float:left;visibility:hidden"/>
              <input type="text" placeholder="">
            </div>
            <button type="submit"><img src="/images/icon_search.png"></button>
          </div>
          <div class="operation syht" id="logreg1">
            <span class="it"><a href="#" data-toggle="modal" data-target="#modal-middle" id="loginbut">登录</a></span>
            <span class="it">I</span>
            <span class="it"><a href="#" data-toggle="modal" data-target="#modal-middle" id="regbut">注册</a></span>
          </div>
          <div class="face-head" id="face-head1" style="display: none">
            <div class="img"><img src="/images/user/face_img.png"></div>
            <div class="userInfo">
              <div class="user-li"><a href="">刘强东</a></div>
              <div class="user-li"><a href="">订单中心</a></div>
              <div class="user-li"><a href="">个人设置</a></div>
              <div class="user-li"><a href="/logout" id="logout1">退出登录</a></div>
              <div class="triangle"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="insside-banner">
    <img src="/images/insidepage/banner.png">
  </div>
  <div class="insside-main">
    <div class="container">
      <ul class="crumbs-list">
        <li class="item"><a href="/">首页</a></li>
        <li class="item"><img src="/images/insidepage/icon_crumbs.png"></li>
        <li class="item"><a href="">线上课程</a></li>
      </ul>
      <div class="screen-box" id="screen-ul">
        <div class="tab-li">
          <div class="tab-text">行业：</div>
          <div class="tabs-list">
            <div th:class="${h==null?'item active':'item'}"><a href="/curriculumList">全部</a></div>
            <div th:each="ryxCategoryDTO:${ryxCategoryDTOList}" th:class="${h eq ''+ryxCategoryDTO.id?'item active':'item'}"><a th:href="@{'/curriculumList/?h='+${ryxCategoryDTO.id}}" th:text="${ryxCategoryDTO.title}"></a></div>
          </div>
          <div class="arrows-r"><img src="/images/insidepage/catalog-down.png"></div>
        </div>
        <div class="tab-li" th:style="${h!=null?'':'display:none'}">
          <div class="tab-text">领域：</div>
          <div class="tabs-list">
            <div th:class="${h!=null&&l==null?'item active':'item'}"><a th:href="@{'/curriculumList/?h='+${h}}" th:text="${'全部'}"></a></div>

            <div th:unless="${#lists.isEmpty(subcategoryList)}" th:each="subcategory:${subcategoryList}" th:class="${h!=null&&l!=null&&subcategory.id+'' eq l?'item active':'item'}"><a th:href="@{'/curriculumList/?h='+${h}+'&l='+${subcategory.id}}" th:text="${subcategory.title!=null?subcategory.title:''}"></a></div>
          </div>
          <div class="arrows-r"><img src="/images/insidepage/catalog-down.png"></div>
        </div>
        <div class="tab-li" th:style="${l!=null?'':'display:none'}">
          <div class="tab-text">技能：</div>
          <div class="tabs-list">
            <div th:class="${l!=null&&j==null?'item active':'item'}"><a th:href="@{'/curriculumList/'}">全部</a></div>
            <div th:each="tcategory:${tcategoryList}" th:class="${h!=null&&l!=null&&j!=null&&tcategory.id+'' eq j?'item active':'item'}"><a th:href="@{'/curriculumList/?h='+${h}+'&l='+${l}+'&j='+${tcategory.id}}" th:text="${tcategory.title!=null?tcategory.title:''}"></a></div>
          </div>
          <div class="arrows-r"><img src="/images/insidepage/catalog-down.png"></div>
        </div>
        <div class="state-box">
          <div class="tab-text">状态：</div>
          <div class="switch-state">
            <div class="check-box">
              <label><input name="免费" id="free" type="checkbox" value="免费" th:checked="${free}" />免费</label>
              <label><input name="付费" id="pay" type="checkbox" value="付费" th:checked="${pay}" />付费</label>
            </div>
          </div>
          <div class="tabs-state">
            <div th:class="${or==null?'item active':'item'}"><a href="" id="update1">最新</a></div>
            <div th:class="${or!=null?'item active':'item'}"><a href="" id = "hot1">热门</a></div>
          </div>
        </div>
      </div>
      <div class="middle-list" id="middle-list1"></div>
      <ul class="page-box">
        <li>
          <a onclick="prepage()" id="prepage">
            <img class="arrows-hide" src="/images/page_arrows.png">
            <img class="arrows-show" src="/images/page_active.png">
          </a>
        </li>

        <li id="page_bottom">
          <a onclick="nextpage()" id="nextpage">
            <img class="arrows-hide" src="/images/page_arrows.png">
            <img class="arrows-show" src="/images/page_active.png">
          </a>
        </li>
      </ul>
    </div>
  </div>
  <div class="footer">
      <div class="footer-links">
        <div class="container">
          <div class="logo">
            <a href="#"> <img src="/images/logo.png" alt="logo"></a>
          </div>
          <div class="skip-middle">
            <div class="slide">
              <div class="title Helvbold">关于我们</div>
              <ul class="link-ul">
                <li class="link"><a class="Helvbold" href="info_aboutus">融易学简介</a></a></li>
                <li class="link"><a class="Helvbold" href="info_contactus">联系我们</a></a></li>
                <li class="link"><a class="Helvbold" href="info_statement">免责声明</a></a></li>
              </ul>
            </div>
            <div class="slide">
              <div class="title Helvbold">帮助中心</div>
              <ul class="link-ul">
                <li class="link"><a class="Helvbold" href="info_register">如何注册</a></a></li>
                <li class="link"><a class="Helvbold" href="info_choosecourse">如何选课</a></a></li>
                <li class="link"><a class="Helvbold" href="info_opencourse">如何开课</a></li>
                <li class="link"><a class="Helvbold" href="info_avai">课程有效期</a></li>
              </ul>
            </div>
            <div class="slide">
              <div class="title Helvbold">商务合作</div>
              <ul class="link-ul">
                <li class="link"><a class="Helvbold" href="info_cooperation">合作方式</a></a></li>
              </ul>
            </div>
          </div>
          <div class="contact">
            <div class="icon">
              <a href="">
                <img class="icon-hidden" src="/images/people.png">
                <img class="icon-show" src="/images/people_active.png">
              </a>
              <a href="javacript:void(0);">
                <img class="icon-hidden" src="/images/wx.png">
                <img class="icon-show" src="/images/wx_active.png">
                <div class="serve-code">
                  <div class="pic">
                    <img src="/images/app_img.png">
                  </div>
                  <div class="text">关注融易学服务号</div>
                </div>
              </a>
              <a href="javacript:void(0);">
                <img class="icon-hidden" src="/images/code.png">
                <img class="icon-show" src="/images/code_active.png">
                <div class="app-code">
                  <div class="pic">
                    <img src="/images/ewm.png">
                  </div>
                  <div class="text">扫码下载APP</div>
                </div>
              </a>
            </div>
            <div class="time">
              <img src="/images/phone.png" alt="phone"><span class="text">周一至周五9:00—18:00</span>
            </div>
            <div class="phone"><a href="tel:0755-2532-0861">0755-2532-0861</a></div>
          </div>
        </div>

      </div>

      <div class="footer-info">
        <div class="organization">
          <div class="container">
            <div class="swiper-container" id="swiper-organization">
              <div class="swiper-wrapper">
                <div class="swiper-slide"><a href="#">机构名称机构名称</a></div>
                <div class="swiper-slide"><a href="#">机构名称机构名称</a></div>
                <div class="swiper-slide"><a href="#">机构名称机构名称</a></div>
                <div class="swiper-slide"><a href="#">机构名称机构名称</a></div>
                <div class="swiper-slide"><a href="#">机构名称机构名称</a></div>
                <div class="swiper-slide"><a href="#">机构名称机构名称</a></div>
                <div class="swiper-slide"><a href="#">机构名称机构名称</a></div>
              </div>
              <div class="swiper-button-prev"></div>
              <div class="swiper-button-next"></div>
            </div>
          </div>
        </div>
        <div class="report">
          <div class="container">
            <div class="row">
              <div class="col-md-4">
                <div class="report-item">
                  Copyright©2015-2018********
                </div>
              </div>
              <div class="col-md-4">
                <div class="report-item">
                  CP备：粤ICP备*********号
                </div>
              </div>
              <div class="col-md-4">
                <div class="report-item">
                  CP备：粤ICP备*********号
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  <div style="display: none" id="login_regist1">
    <div class="modal modal-main" id="modal-middle" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-middle">
        <div class="login-box">
          <div class="tab-list" id="toggle-list">
            <div class="item Hvtc" id="login_div">登录</div>
            <div class="item  Hvtc" id="regist_div">注册</div>
          </div>
          <div class="toggle-list" id="modal-list">
            <div class="item" >
              <form th:action="@{/login}" method="POST" id="login_form">
                <div class="phone-number">
                  <input id="login_phone" name="username" type="text" placeholder="请输入手机号码">
                </div>
                <div class="password-number">
                  <input id="login_psw" name="password" type="password" placeholder="请输入密码">
                </div>
                <div id="login_error" style="color:red;display: none;">密码或用户名错误</div>
                <div class="forget-pass"><span class="Helvbold" id="forgetful-btn">找回密码</span></div>
                <button type="submit" id="index_login" class="login-btn Helvbold">登录</button>
                <div class="rests-box">
                  <div class="line"></div>
                  <div class="text Helvbold">其他登录方式</div>
                  <div class="line"></div>
                </div>
                <div class="wechat-box">
                  <img src="/images/share/weixin_active.png" id="weixin-btn">
                </div>
              </form>
            </div>
            <div class="item active">
              <div class="register-main" id="register-box">
                <div class="common-input"><input type="text" placeholder="请输入手机号码"></div>
                <div class="conmon-code">
                  <div class="conmon-l"><input type="text" placeholder="请输入验证码"></div>
                  <div class="conmon-r"><img src="http://gss0.baidu.com/-vo3dSag_xI4khGko9WTAnF6hhy/zhidao/wh%3D450%2C600/sign=0c6c13fb203fb80e0c8469d303e10318/54fbb2fb43166d2242cf0a5e472309f79152d2bb.jpg" ></div>
                </div>
                <div class="conmon-notecode">
                  <div class="conmon-l"><input type="text" placeholder="请输入短信验证码"></div>
                  <div class="conmon-r"><button class="Helvbold" type="submit">获取验证码</button></div>
                </div>
                <div class="common-input"><input type="password" placeholder="请输入密码"></div>
                <div class="common-input"><input type="password" placeholder="请确认密码"></div>
                <div class="protocol-text Helvbold">
                  <label><input name="已阅读" id="register_read" type="checkbox" value="已阅读" checked /></label>
                  我已阅读<a href="">【用户服务协议及隐私政策】</a></div>
                <button type="submit" id="index_register" class="login-btn Helvbold">注册</button>
                <div class="rests-box">
                  <div class="line"></div>
                  <div class="text Helvbold">其他登录方式</div>
                  <div class="line"></div>
                </div>
                <div class="wechat-box">
                  <img src="/images/share/weixin_active.png" id="weixin-btn">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="forgetmodal-middle" id="forgetmodal">
      <div class="forgetmodal-box">
        <div class="err-box" id="forgetmodal-btn"><img src="/images/modal/icon_err.png"></div>
        <div class="err-title Helvbold">找回密码</div>
        <div class="public-wrap" id="forgetPsw-btn">
          <div class="public-box"><input type="text" placeholder="请输入手机号码"></div>
          <div class="conmon-notecode">
            <div class="conmon-l"><input type="text" placeholder="请输入短信验证码"></div>
            <div class="conmon-r"><button class="Helvbold" type="submit">获取验证码</button></div>
          </div>
          <div class="public-box"><input type="password" placeholder="请输入新密码"></div>
          <div class="public-box"><input type="password" placeholder="请确认密码"></div>
        </div>
        <div class="affirm-btn">
          <button class="Helvbold" id="index_submit_psw" type="submit">确认</button>
        </div>
      </div>
    </div>
    <div class="weixinmodal-middle" id="weixinmodal">
      <div class="weixinmodal-box">
      <div class="err-box" id="weixinmodal-btn"><img src="/images/modal/icon_err.png"></div>
      <div class="err-title Helvbold">微信扫码登录</div>
      <div class="img"><img src="/images/weixinmodal-img.jpg"></div>
      <div class="desc Helvbold">请使用微信扫描二维码登录<br>“融易学金融学院”</div>
    </div>
    </div>
  </div>
  <script src="/js/jquery-2.1.1.min.js"></script>
  <script src="/js/bootstrap.min.js"></script>
  <script src="/js/swiper.min.js"></script>
  <!-- privatjs -->
  <script type="text/javascript" src="/js/public.js"></script>
  <script type="text/javascript" src="/js/inMain.js"></script>
  <!--end-->
  <script type="text/javascript" th:src="@{/js/jquery_form.js}"></script>
  <script type="text/javascript" th:src="@{/js/jquery-cookie-1.4.1.min.js}"></script>
  <script>

    $(function() {
      /**
       * 分页展示全部课程
       */
      let h = '[[${h}]]';
      let l = '[[${l}]]';
      let j = '[[${j}]]';
      $('#free').change(function(){
        let free = $('#free').prop('checked');
        let pay = $('#pay').prop('checked');
        window.location.href = '/curriculumList/?h='+h+'&l='+l+'&j='+j+'&f='+free+'&p='+pay;
      });
      $('#pay').change(function(){
        let free = $('#free').prop('checked');
        let pay = $('#pay').prop('checked');
        window.location.href = '/curriculumList/?h='+h+'&l='+l+'&j='+j+'&f='+free+'&p='+pay;
      });

      //热门
      $('#hot1').click(function(){
        let free = $('#free').prop('checked');
        let pay = $('#pay').prop('checked');
        $('#hot1').attr('href','/curriculumList/?h='+h+'&l='+l+'&j='+j+'&f='+free+'&p='+pay+'&or=h');
      });

      //最新
      $('#update1').click(function(){
        let free = $('#free').prop('checked');
        let pay = $('#pay').prop('checked');
        $('#update1').attr('href','/curriculumList/?h='+h+'&l='+l+'&j='+j+'&f='+free+'&p='+pay);
      });

      display_courses();
      function display_courses() {
        var courseList = "[[${courseList}]]".replace(/&quot;/g, "\"").replace(/\r\n/g,"").replace("[", "").replace("]", "").replace(/},/g, "}},").split("},");
        var courseArr = [];
        for (let course in courseList) {
          courseArr.push(JSON.parse(courseList[course]));
        }
        let divs = "";
        courseArr.forEach(function (course, index) {
          divs += '<div class="item"><a onclick="to_course_detail(this)" name="'+course.id+'"><div class="dt"><div class="pic"><img src="' + course.image + '"><div class="liveTit">最新</div></div></div><div class="dd"><div class="tit">' + course.title + '</div><div class="time-box"><div class="flex-l">¥' + course.price + '</div><div class="flex-r"><div class="hour-box"><div class="left"><img src="/images/home/time.png">' + course.applyCount + '</div><div class="right"><img src="/images/home/browse.png">' + course.hits + '</div></div></div></div></div></a></div>';
        })
        document.getElementById("middle-list1").innerHTML=divs;
      }

      /**
       * 设置分页按钮
       */
      set_page_button();
      function set_page_button(){
        var page_bottom = document.getElementById("page_bottom");
        var parent = page_bottom.parentNode;
        for(let i=1;i<=[[${tatalPage}]];i++){
          let url="/curriculumList?currentPage="+i;
          let li1 = document.createElement("li");
          li1.innerHTML = '<a href="">'+i+'</a>';
          li1.children[0].setAttribute('href',url);
          parent.insertBefore(li1,page_bottom);
        }
      }

      /**
       * 激活当前页码,使其变为蓝色
       */
      active_current_li();
      function active_current_li(){
        let lis = document.getElementsByClassName("page-box")[0].children;
        let cuur = [[${query.currentPage}]];
        lis[cuur].setAttribute('class','active');
      }

      /**
       *登录
       */
      //点击登录激活登录div并弹出登录注册框
      $('#loginbut').click(function(){
        $('#login_div').addClass('active');
        $('#login_regist1')[0].style.display='';
      });

      //获取登录表单返回数据,隐藏登录注册按钮,显示个人信息
      $("form").ajaxForm(function(data) {
        if(data.code==200){
          $('#login_div').removeClass('active');
          $('#login_regist1').toggle();
          $('#logreg1').toggle();
          $('#face-head1').toggle();
          window.location.reload();
        }else{
          $('#login_error')[0].style.display='';
        }
      });

      if($('#face-head1')[0].style.display=='none') {
        //通过sessionId保持登录
        let un = '[[${session.user}]]';
        if ($.cookie('sessionId') && un) {
          $('#logreg1')[0].style.display = 'none';
          $('#face-head1')[0].style.display = '';
        }
      }

      //退出并清除cookie
      // $('#logout1').click(function() {
      //   $.removeCookie('sessionId');
      //   $('#logreg1')[0].style.display = '';
      //   $('#face-head1')[0].style.display = 'none';
      // });
    });
    /**
     * 跳转上一页
     */
    function prepage(){
      let page = [[${query.currentPage}]];
      if(page>1){
        page = page-1;
      }
      let url = "/curriculumList?currentPage="+page;
      document.getElementById("prepage").setAttribute('href',url);
    }

    /**
     * 跳转下一页
     */
    function nextpage(){
      let page = [[${query.currentPage}]];
      if(page<[[${tatalPage}]]){
        page = page+1;
      }
      let url = "/curriculumList?currentPage="+page;
      document.getElementById("nextpage").setAttribute('href',url);
    }

    /**
     * 点击课程预览图,跳转到课程详情页
     */
    function to_course_detail(ele){
      let keyword = 1;
      if(null == keyword || undefined == keyword || "" === keyword){
        return;
      }else{
        let url = "/curriculumDetails?courseId="+ele.name;
        ele.setAttribute('href',url);
      }
    }
  </script>
</body>


</html>